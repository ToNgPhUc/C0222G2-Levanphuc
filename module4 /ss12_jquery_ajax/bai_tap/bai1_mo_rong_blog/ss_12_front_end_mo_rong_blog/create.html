<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create student momo</title>
    <link rel="stylesheet" href="css/mdb.min.css">
    <link rel="stylesheet" href="css/momo.css">
</head>
<body>
<!-- Just an image -->
<nav class="navbar navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="#">
        </a>
    </div>
</nav>

<div class="container mt-4">
    <div class="row w-50 mx-auto">
        <div class="col-lg-12">
            <h2>Create blog</h2>
            <div>
                <p style="color: red" id="pError"></p>
            </div>
            <div class="form-outline mb-4">
                <input type="text" id="inputName" class="form-control"/>
                <label class="form-label" for="inputName">Name Blog</label>
            </div>


            <div class="form-outline mb-4">
                <input type="text" id="inputContent" class="form-control"/>
                <label class="form-label" for="inputContent">Content</label>
            </div>

            <select id="selectBlogger" class="form-control mb-4">
                <option value="1">phuc</option>
                <option value="2">háº¡nh</option>
            </select>


            <a href="http://localhost:63343/ss_12_front_end_mo_rong_blog/List_Blog.html?_ijt=bqqsjl1mm2t4gcknruook6k4b3&_ij_reload=RELOAD_ON_SAVE">
                <button id="btnCreate" type="button" class="btn btn-primary btn-block bg-momo">
                    Create
                </button>
            </a>

        </div>
    </div>
</div>

<script src="js/jquery-3.6.0.min.js"></script>
<script src="js/mdb.min.js"></script>
<script>
    $("#btnCreate").click(function () {
        let blogName = $("#inputName").val();
        let blogContent = $("#inputContent").val();
        let nameBlogger = $("#selectBlogger").val();

        console.log(blogName + " " + blogContent + " " + nameBlogger);

        let blogObject = {
            nameBlog: blogName,
            content: blogContent,
            blogger: {
                idBlogger: nameBlogger
            }
        }
        $.ajax({
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            type: "POST", //GET, DELETE, PUT...
            url: "http://localhost:8080/blog_restful/create",
            data: JSON.stringify(blogObject),
            success: function (resultSuccess) {
                console.log(resultSuccess);
            },
            error: function (resultError) {
                console.log('Co loi xay ra');
            }
        });

        console.log(blogObject);

    });
</script>
</body>
</html>
